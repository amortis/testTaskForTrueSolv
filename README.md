# Item Purchase Tool

Этот репозиторий содержит реализацию простого одностраничного приложения для создания заказов на покупку, разработанного на платформе Salesforce с использованием LWC и Apex.




## Требования

Проект реализован в соответствии со следующими требованиями:

*   Создание пользовательских объектов согласно предоставленной модели данных.
*   Все требования представлены в виде пользовательских историй с полезными ссылками.
*   Использование только LWC компонентов и Apex классов. Компоненты Aura могут быть использованы только в качестве контейнера для LWC компонентов при необходимости.
*   Покрытие кода Apex модульными тестами.
*   Создание репозитория на GitHub с частыми коммитами.
*   Создание пользователя Admin для `dev@truesolv.com` на Salesforce Dev Instance после завершения задачи.
*   Создание неуправляемого пакета.
*   Дополнительная информация и ссылки на документацию доступны в разделе 'Инструменты'.




## Модель данных

Проект использует следующие пользовательские объекты и поля:

*   **Purchase__c** - новый пользовательский объект
    *   `Name` - String
    *   `ClientId` - Lookup на объект Account
    *   `TotalItems` - Number
    *   `GrandTotal` - Number
*   **PurchaseLine__c** - новый пользовательский объект
    *   `PurchaseId` - Master-Detail на Purchase__c
    *   `ItemId` - Master-Detail на Item__c
    *   `Amount` - Number
    *   `UnitCost` - Number
*   **Item__c** - новый пользовательский объект
    *   `Name` - String
    *   `Description` - String
    *   `Type` - Picklist
    * `Family` - Picklist
    *   `Image` - Url - ссылка на изображение
    *   `Price` - Number
*   **User** - стандартный объект
    *   `IsManager` - Boolean (новое пользовательское поле)




## Пользовательские истории

Функциональность приложения описана следующими пользовательскими историями:

*   **Как пользователь, я могу открыть страницу Item Purchase Tool из макета Account.** (Необходимо разместить кнопку на макете Account, которая будет открывать страницу Item Purchase Tool в отдельной вкладке. Объект Account не совпадает с объектом User.)
    *   Стандартный объект Account
*   **Как пользователь, я могу видеть имя, номер и отрасль Account на странице.**
    *   Привязка данных в шаблоне
*   **Как пользователь, я могу фильтровать отображаемые элементы по Family и Type.**
*   **Как пользователь, я могу видеть количество перечисленных элементов на экране в разделе фильтра.**
    *   Вызов метода Apex из LWC
    *   Отображение списков в LWC
    *   Выполнение кода при загрузке (ConnectedCallback)
*   **Как пользователь, я могу искать элемент по имени и описанию.**
*   **Как пользователь, я могу видеть детали элемента в модальном окне.** (Кнопка "Details" на плитке элемента. Также я могу видеть изображение элемента на основе URL изображения.)
    *   Модальное окно
    *   Форма редактирования записи LWC
    *   Форма просмотра записи LWC
*   **Как пользователь, я могу выбрать элемент и добавить его в корзину.** (Кнопка "Add" на плитке элемента.)
    *   Показать сообщение Toast
*   **Как пользователь, я могу видеть элементы в корзине.** (Кнопка "Cart" откроет модальное окно с выбранными элементами в табличном представлении.)
*   **Как пользователь, я могу оформить заказ из корзины.** (Кнопка "Checkout" в модальном окне корзины.) Это действие создаст записи Purchase и Purchase Line.
    *   `TotalItems` и `GrandTotal` в объекте `Purchase__c` должны автоматически рассчитываться в триггере на основе записей Purchase Line.
    *   Триггер Apex
*   **Как пользователь, после оформления заказа я должен быть перенаправлен на стандартный макет Purchase, чтобы увидеть созданные записи Purchase и Purchase Line.**
*   **Как менеджер, я должен иметь возможность создавать новый элемент в модальном окне.** (Кнопка "Create an Item". Кнопка должна быть доступна только для пользователей с `IsManager__c = true`.)
    *   Условное отображение элементов DOM
*   **Для заполнения поля Image в объекте Item необходимо отправить запрос к Unsplash API для получения фотографий по поисковому запросу.** (Где `query = {Your Item Name}` - это имя созданного элемента, и поместите ссылку в поле Image.)
    *   Создание учетной записи Unsplash и регистрация приложения.
    *   Получение Access Key.
    *   Поиск фотографий через API Endpoint.




## Инструменты

Для разработки и развертывания использовались следующие инструменты и технологии:

*   **Salesforce Dev Org** - [Salesforce Developer Portal](https://developer.salesforce.com/)
*   **IDE** - IntelliJ IDEA + JetForcer
*   **Backend** - Apex - [Apex Developer Guide](https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_dev_guide.htm)
*   **Client-Side** - LWC - [LWC Docs](https://developer.salesforce.com/docs/component-library/documentation/lwc)
*   **Styles** - Lightning Design System - [SLDS](https://www.lightningdesignsystem.com/)



